<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/2.0.2/TweenMax.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/2.0.2/TimelineMax.min.js"></script>

    <style>
        body {
            background-color: #1d1d1d;
            font-family: "Asap", sans-serif;
            color: #989898;
            margin: 10px;
            font-size: 16px;
            height:2000px;
            overflow-x: hidden;
        }

        .box {
            position: fixed;
            display:inline-block;
            border:1px solid black;
            background-color:#ff0000;
        }

        .top-img {
            position: fixed;
            display:inline-block;
            width:300px;
            height:350px;
        }
    </style>

</head>

<body>
    <div>
        
        <div id="logo" class="box" style="left:50%;top:50%;"></div>
        <div id="content" class="box" style="left:50%;top:50%;"></div>        

        <script>
            // let imgs = [
            //     {
            //         "src":"a.jpg", 
            //         "tags":["패딩", "padding", "black"],
            //         "children":[
            //             {"src":"a0.jpg", "link":"http://sixshop.com", "price":23000 },
            //             {"src":"a1.jpg", "link":"http://sixshop.com", "price":24000 },
            //             {"src":"a2.jpg", "link":"http://google.com", "price":21000 }
            //         ]
                    
            //     },
            //     {
            //         "src":"b.jpg", 
            //         "tags":["tag1", "tag2", "tag333"],
            //         "children":[
            //             {"src":"b0.jpg", "link":"http://sixshop.com", "price":23000, "brand":"짱짱브랜드", "name":"상품명" },
            //             {"src":"b1.jpg", "link":"http://sixshop.com", "price":24000, "btn":"buy" },
            //             {"src":"b2.jpg", "link":"http://google.com", "price":21000, "btn":"location" }
            //         ]
            //     },
            //     {
            //         "src":"b.jpg", 
            //         "tags":["tag1", "tag2", "tag333"],
            //         "children":[
            //             {"src":"b0.jpg", "link":"http://sixshop.com", "price":23000, "brand":"짱짱브랜드", "name":"상품명" },
            //             {"src":"b1.jpg", "link":"http://sixshop.com", "price":24000, "btn":"buy" },
            //             {"src":"b2.jpg", "link":"http://google.com", "price":21000, "btn":"location" }
            //         ]
            //     },
            //     {
            //         "src":"b.jpg", 
            //         "tags":["tag1", "tag2", "tag333"],
            //         "children":[
            //             {"src":"b0.jpg", "link":"http://sixshop.com", "price":23000, "brand":"짱짱브랜드", "name":"상품명" },
            //             {"src":"b1.jpg", "link":"http://sixshop.com", "price":24000, "btn":"buy" },
            //             {"src":"b2.jpg", "link":"http://google.com", "price":21000, "btn":"location" }
            //         ]
            //     },
            //     {
            //         "src":"b.jpg", 
            //         "tags":["tag1", "tag2", "tag333"],
            //         "children":[
            //             {"src":"b0.jpg", "link":"http://sixshop.com", "price":23000, "brand":"짱짱브랜드", "name":"상품명" },
            //             {"src":"b1.jpg", "link":"http://sixshop.com", "price":24000, "btn":"buy" },
            //             {"src":"b2.jpg", "link":"http://google.com", "price":21000, "btn":"location" }
            //         ]
            //     }
            // ]


            let sw = window.innerWidth;
            let sh = window.innerHeight;

            let state1 = {
                logo : { left:"10px", top:"10px", width:"100px", height:"100px"},
                content : { left:"110px", top:"10px", width:`${sw-100}px`, height:"500px"},
            }

            let state2 = {
                logo : { left:"200px", top:"20px", width:"300px", height:"300px"},
                content : { left:"10px", top:"310px", width:`${sw}px`, height:"500px"},
            }

            let state3 = {
                logo : { left:"200px", top:"50px", width:"100px", height:"100px" },
                content : { left:"10px", top:"10px", width:`${sw}px`, height:"500px"},
            }

            let currentState = null;

            function addImageInfo(state, imgs){
                for(let i=0;i<imgs.length;i++){
                    state["img-"+i] = {left:i*300+"px", top:"200px"}
                }
                return state
            }

            
            function makeTransitionAnimation(goalState){
                let tl = new TimelineMax();
                for(let k in goalState){
                    let selector = "#"+k;
                    tl.to(selector, 1, goalState[k], 0)
                }
                tl.pause()
                currentState = goalState;
                console.log(goalState)
                return tl;
            }

            
            
            $().ready(function(){

                // console.log(imgs)
                // for(let i=0;i<imgs.length;i++){
                //     let img = imgs[i];
                //     let id = "img-"+i
                //     $('body').append("<img class='top-img' id='img-"+i+"' src='"+img['src']+"'>")
                // }
                // state1 = addImageInfo(state1, imgs)
                // console.log(state1)
                let tl = makeTransitionAnimation(state1)
                tl.resume();
            })

            $("#logo").on("click", function(){
                let tl = null
                
                if(currentState == state1)
                    tl = makeTransitionAnimation(state2)
                else
                    tl = makeTransitionAnimation(state1)

                tl.resume();
            })

            $("#content").on("click", function(){
                let tl = null
                if(currentState == state3)
                    tl = makeTransitionAnimation(state1)
                else
                    tl = makeTransitionAnimation(state3)
                tl.resume();
            })

            
            
        </script>

</body>

</html>